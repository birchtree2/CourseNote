# 高等数学学习笔记-导数

[TOC]

约定:
因为在Latex里用`\mathrm{d}`打正体的$\mathrm{d}$太麻烦了,微分符号暂时用$d$表示.保证$d$不会作为变量出现

## 导数的定义

$$f'(x)=\lim_{h \to 0} \frac{f(x+h)-f(x)}{h}$$

如果$y=f(x)$,那么我们可以把$f'(x)$表示成$\frac{dy}{dx}$. 注意$\frac{dy}{dx}$实际上是分数的极限，而不是一个分数,但很多时候可以看成分数进行运算

如$y=x^2=f(x)$,则这几种表示方法都可以
$$f'(x)=\frac{dy}{dx}=\frac{d(x^2)}{dx}=\frac{d}{dx}(x^2)$$

$n$阶导数用$f^{(n)}(x)$或$\frac{d^n y}{dx^n}$表示

我们用极限定义导数,反过来,**某些特殊形式的极限也可以转化为导数求解**

比如说 
$$\lim_{h \to 0}\frac{\sqrt[5]{h+32}-2}{h}=\lim_{h \to 0}\frac{\sqrt[5]{h+32}-\sqrt[5]{32}}{h}=(x^{1/5})'(32)=\frac{1}{5}(32)^{-4/5}=\frac{1}{80}$$

当然,这种伪装的极限也能用洛必达法则求解

## 可导性

类比极限的存在性,我们可以定义左导数 $\lim_{h \to 0^-} \frac{f(x+h)-f(x)}{h}$ 和右导数  $\lim_{h \to 0^+} \frac{f(x+h)-f(x)}{h}$

如果左右导数存在且相等,那么导数存在且有相同的值

例如$f(x)=|x|$在$x=0$处的左右导数分别为-1和1,所以导数不存在。 几何直观上体现为该处函数图像有一个“尖角”,而不是平滑的过渡

>如果一个函数$f$在$x$上可导，那么它在$x$上连续

证明: 

连续性等价于$\lim_{u \to x}f(u)=f(x)$,令$u=h+x$,则转化为$\lim_{h \to 0}f(x+h)=f(x)$

可导性等价于$\lim_{h \to 0} \frac{f(x+h)-f(x)}{h}$存在

$$\lim_{h \to 0} (f(x+h)-f(x))=\lim_{h \to 0} (\frac{f(x+h)-f(x)}{h}\times h)=\lim_{h \to 0} \frac{f(x+h)-f(x)}{h} \times \lim_{h \to 0} h=f'(x) \times 0=0$$

已知$f(x)$可导，所以极限都存在,用极限的乘法法则没有问题

根据减法法则有$\lim_{h \to 0} (f(x+h)-f(x))=\lim_{h \to 0}f(x+h)-\lim_{h \to 0}f(x)=0$

而$f(x)$这里与$h$无关,可以看成常数,所以$\lim_{h \to 0}f(x)=f(x)$

所以$\lim_{h \to 0}f(x+h)=f(x)$,这说明连续

**可导一定连续,连续不一定可导**

## 导数的运算法则

## 常见函数的导数

### 多项式函数的导数

$$\frac{d}{dx}x^n=\lim_{h \to 0}\frac{(x+h)^n-x^n}{h}=\lim_{h \to 0}\frac{nx^{n-1}h+\binom{n}{2}x^{n-2}h^2+\cdots}{h}=nx^{n-1}$$

(后面带$h$的高次项的极限为0)

### 三角函数的导数

记$\csc x=\frac{1}{\sin x},\sec x=\frac{1}{\cos x},\cot x=\frac{1}{\tan x}$

*! 注意csc是sin的倒数而不是cos,首字母是反的*

$$\begin{aligned} \frac{d}{dx}\sin x&=\lim_{h \to 0}\frac{\sin(x+h)-\sin x}{h}=\lim_{h \to 0}\frac{\sin x \cos h+\cos x \sin h-\sin x}{h} \\&= \cos x\lim_{h \to 0}(\frac{\sin h}{h})-\sin x \lim_{h \to o}{\frac{1-\cos h}{h}} \\ &=\cos x \times 1+\sin x \times 0=\cos x\end{aligned}$$

(用到了三角函数的两个重要极限)

$$\begin{aligned} \frac{d}{dx}\cos x&=\lim_{h \to 0}\frac{\cos(x+h)-\cos x}{h}=\lim_{h \to 0}\frac{\cos x \cos h-\sin x \sin h-\cos x}{h} \\&= -\sin x\lim_{h \to 0}(\frac{\sin h}{h})-\cos x \lim_{h \to o}{\frac{1-\cos h}{h}} \\ &=-\sin x\end{aligned}$$

$$\begin{aligned} \frac{d}{dx} \tan x=\frac{1}{\cos^2 x}=\sec^2x\end{aligned}$$

$$\frac{d}{dx} \cot x=- \csc^2x$$

$$\frac{d}{dx} \sec x =-\frac{1}{(\cos x)^2}(-\sin x)=\sec x\tan x$$

$$\frac{d}{dx} \csc x=-\frac{1}{\sin^2x}\cos x=-\csc x\cot x$$
(用除法法则,高中内容,略)

### 指数和对数函数的导数

$$\frac{d}{dx}\ln x=\lim_{h \to 0}\frac{\ln(x+h)-\ln x}{h}=\lim_{h \to 0}\frac{1}{h}\ln(\frac{x+h}{x})=\lim_{h \to 0}\ln ((1+\frac{h}{x})^{1/h})$$

注意到根据$e^x$的定义,$\lim_{h \to 0}(1+\frac{h}{x})^{1/h}=e^{1/x}$，因此
$$\frac{d}{dx}\ln x=\ln(e^{1/x})=\frac{1}{x}$$

根据换底公式有

$$\frac{d}{dx} \log_bx=\frac{1}{x\ln b}$$

为了求$e^x$的导数,要借助反函数求导(见下两个模块)

$$\frac{d}{dx} e^x=\frac{1}{1/y}=\frac{1}{1/e^x}=e^x$$

### 双曲函数及其导数

$\sinh(x)=\frac{1}{2}(e^x-e^{-x})$,奇函数

$\cosh(x)=\frac{1}{2}(e^x+e^{-x})$，偶函数. 类似的可定义出双曲正切等函数

容易得$\cosh^2 x-\sinh^2 x=1$ **和三角函数不同!**

$$\frac{d}{dx} \sinh(x)=\cosh(x)$$

$$\frac{d}{dx} \cosh(x)=\sinh(x)$$

$$\frac{d}{dx} \tanh(x)=\frac{1}{\cosh^2(x)}=\mathrm{sech}^2(x)$$

$$\frac{d}{dx} \mathrm{csch}(x)=-\mathrm{csch}(x)\coth(x)$$
$$\frac{d}{dx} \mathrm{sech}(x)=-\mathrm{sech}(x)\tanh(x)$$ 
**和三角函数不同!**
$$\frac{d}{dx} \mathrm{coth}(x)=-\mathrm{csch}^2(x)$$



## 隐函数求导

### 相关变化率

**在问题中，搞清对什么求导最关键**

例如有两个变量$x,y$

$$\frac{d}{dx} (y^2)=\frac{d(y^2)}{dy}\cdot \frac{dy}{dx}=2y \cdot \frac{dy}{dx}$$

实际上用的是链式法则。我们想要求$x$变化时对$y^2$的影响,而$dy/dx$表示$x$变化时$y$的变化,$dy^2/dy$表示$y$变化对$y^2$的影响. 

有的时候需要多次使用链式法则

$$\begin{aligned} \frac{d}{dx}\cos(\frac{y}{x^4})&=\frac{d \cos t}{dt}\cdot \frac{d t}{d x}(\text{记}t=\frac{y}{x^4}) \\ &=-\sin t \cdot \frac{dt}{dx}\\ &=-\sin{\frac{y}{x^4}} \frac{x^4\frac{dy}{dx}-y\frac{d (x^4)}{dx}}{(x^4)^2}= \cdots \end{aligned}$$

### 用隐函数求导求曲线上某一点的切线斜率

考虑椭圆的方程$\frac{x^2}{a^2}+\frac{y^2}{b^2}=1$, $y$不是$x$的函数,但有某种限制关系,这种关系就叫做隐函数

两边对$x$求导

$$\frac{d}{dx}(\frac{x^2}{a^2})+\frac{d}{dx}(\frac{y^2}{b^2})=\frac{d}{dx}(1)$$

$$\frac{2x}{a^2}+\frac{2y}{b^2}\frac{dy}{dx}=0$$

整理得$\frac{dy}{dx}=-\frac{b^2 x}{a^2 y}$

它给出的是某一点处$dy/dx$与坐标$(x,y)$的关系. 而$dy/dx$的几何意义就是切线斜率

## 反函数的导数

如果函数$f$有反函数$f^{-1}$

那么若$y=f^{-1}(x)$,则$x=f(y)$.根据隐函数求导

$$\frac{d}{dx}x=\frac{d}{dx}(f(y))=\frac{d f(y)}{dx} \cdot \frac{dy}{dx}$$

则
$$\frac{d}{dx} f^{-1}(x)=\frac{dy}{dx}=\frac{1}{f'(y)}=\frac{1}{f'(f^{-1}(x))}$$

这个式子有些不好理解(至少对我来说是的)，需要注意:

- 形如 $f(y)$ 的表达式的意思是把$f$中的代表自变量的字母写为$y$. 第一个等号后只得到了$dy/dx$ 和 $y$ 的关系，而要得到 $dy/dx$ 与 $x$ 的关系(即导函数),要把  $y$ 用 $x$ 表示
-  这里针对的是$f^{-1}(x)$求导,也就是说$y$不是$f(x)$,而是$f(y)=x$. 要用这个式子来代换
-  如果我们把要求导的函数(不妨记为 $g(x)$ )看成原函数,那么我们就必须找出其反函数 $g^{-1}(x)$ 的导数. 于是式子也可以写成 $\frac{d}{dx}g(x)=\frac{1}{(g^{-1})'(g(x))}$
- 从这个式子 $f^{-1}(x)$ 的导数似乎还和 $f^{-1}(x)$本身有关。比如 $\frac{d}{dx}(\sqrt{x})=\frac{1}{2y}=\frac{1}{2\sqrt{x}}$ 但是实际上我们处理的$f$往往有特殊的性质,能让 $f'(f^{-1}(x))$ 变成另一个表达式

比如$f(x)=e^x,y=f^{-1}(x)=\ln x, f'(x)=e^x,f'(y)=e^y$

那么$\frac{d}{dx}(\ln x)=\frac{1}{e^y}=\frac{1}{e^{\ln x}}=\frac{1}{x}$

### 反三角函数的导数

$f(x)=\sin x (x \in [-\frac{\pi}{2},\frac{\pi}{2}])$(限定定义域以保证可逆)

记 $f^{-1}(x)=\sin^{-1}(x)=\arcsin(x)$,它的定义域为 $[-1,1]$值域为 $[-\frac{\pi}{2},\frac{\pi}{2}]$

$$\frac{d}{dx} \sin^{-1} x=\frac{1}{\sin '( \sin^{-1}(x)}=\frac{1}{\cos(\sin^{-1}(x))}$$

然而求到这里还没有结束。记$\sin^{-1}x=y,则\sin y=x, \cos y=+\sqrt{1-x^2}(|y|<\pi/2)$

$$\frac{d}{dx} \arcsin x=\frac{1}{\cos y}=\frac{1}{\sqrt{1-x^2}}$$

同理
$$\frac{d}{dx} \arccos x=\frac{1}{-\sin y}=-\frac{1}{\sqrt{1-x^2}}$$

$$\frac{d}{dx} \arctan x=\frac{1}{\frac{1}{\cos^2 y}}=\cos^2 y$$ 

*!注意分母的倒数*

又因为 $\tan y=x$ , 则 $\cos y=\frac{1}{\sqrt{1+x^2}}$,故

$$\frac{d}{dx} \arctan x=\frac{1}{1+x^2}$$ 

## 导数与图像

最值(全局)与极值(局部)的定义 (略)

全局最大(小)值一定是局部最大(小)值

>极值定理: 假设函数$f$定义在开区间$(a,b)$内,如果$c$为函数的局部最大值或最小值,那么$f'(c)=0$或$f'(c)$不存在。我们把导数为0或不存在的点称为临界点.

反过来,临界点不一定是极值点.如$f(x)=x^3,x=0$

>最大值与最小值定理: **连续**函数在闭区间上一定有一个全局最大值和全局最小值

### 罗尔定理

> 罗尔定理:$f$ 在 $[a,b]$ 连续, $(a,b)$ 可导,且 $f(a)=f(b)$ ,则至少存在一点$c \in (a,b)$ 使得 $f'(c)=0$

证明: 由于$f$连续,根据最大值和最小值定理, $[a,b]$ 上一定存在一个全局最大值和最小值

1. 如果其中至少一个出现在 $(a,b)$ 内,记为 $c$ 那么根据极值定理,$f'(c)$=0, 得证
2. 如果全局最大值和最小值都出现在端点$a,b$上,因为$f(a)=f(b)$,根据全局最值的定义,$f$一定是常函数,任意一点$f'(c)=0$,得证

### 拉格朗日中值定理

> 拉格朗日中值定理:$f$ 在 $[a,b]$ 连续, $(a,b)$ 可导,则至少存在一点 $c \in (a,b)$ 使得 $f'(c)=\frac{f(b)-f(a)}{b-a}$

证明:构造函数

 $$ g(x)=f(x)-\frac{f(b)-f(a)}{b-a}(x-a)$$

 通分易得$g(a)=f(a),g(b)=f(a)=g(a)$
 
$f$是连续的,而减去的只是关于$x$的一次函数,也是连续的.故$g$在$[a,b]$内连续且在$(a,b)$内可导

这样由罗尔定理,$\exist c \in (a,b)$ 使得 $g'(c)=0$

而对$g$求导得 $g'(x)=f'(x)-\frac{f(b)-f(a)}{b-a}$

把$c$代入得$f'(c)=\frac{f(b)-f(a)}{b-a}$

从几何意义上看,拉格朗日中值定理说明曲线段上必有一点的切线平行于曲线的弦

### 柯西中值定理

> 柯西中值定理:$f$和$g$ 在 $[a,b]$ 连续, $(a,b)$ 可导,**且除了可能在$a$处**,$g'(x)\neq 0$,则至少存在一点 $c \in (a,b)$ 使得 
> $$\frac{f'(c)}{g'(c)}=\frac{f(b)-f(a)}{g(b)-g(a)}$$

如果令$g(x)=x$就得到了拉格朗日中值定理 *也许令g(x)=x-a和证明过程配合的更好?,不过本质都是一样的*

$g(b) \neq g(a)$,这是因为若$g(b)=g(a)$,由罗尔定理可得$g'(c)=0$,这与条件中$g'(x) \neq 0$矛盾。因此这个式子总是有意义的 

证明: 在证明拉格朗日中值定理时我们做差构造一个新函数，那么我们如法炮制，构造

$$h(x)=f(x)-\frac{f(b)-f(a)}{g(b)-g(a)}g(x)$$

通分容易发现$h(a)=h(b)$,并且$h$是闭区间连续,开区间可导的.求导,根据罗尔定理

$h'(c)=f'(c)-\frac{f(b)-f(a)}{g(b)-g(a)}g'(c)=0$,移项整理就得到了柯西中值定理

### 洛必达法则

0/0型:

>如果 $f(a)=g(a)=0$, 那么 $\lim_{x \to a}\frac{f(x)}{g(x)}=\lim_{x \to a}\frac{f'(x)}{g'(x)}$. 前提:**等式右端的极限存在**,且$x$趋于但不等于$a$时$g'(x)$不为0

因为$f(a)=g(a)=0$

$$\lim_{x \to a}\frac{f(x)}{g(x)}=\lim_{x \to a}\frac{f(x)-f(a)}{g(x)-g(a)}$$

如果$x>a$,在区间$[a,x]$上使用柯西中值定理,说明对每个$x$都存在$c \in [a,x]$,使得$\frac{f(x)-f(a)}{g(x)-g(a)}=\frac{f'(c)}{g'(c)}$. 因此$\lim_{x \to a}\frac{f(x)}{g(x)}=\lim_{x \to a}\frac{f'(c)}{g'(c)}$. 

$x \to a$时$c \to a$. 所以结果就是$\lim_{c \to a} \frac{f'(c)}{g'(c)}$. $c$只是一个记号,把$c$改为$x$,就得到了洛必达法则的形式

无穷比无穷型的证明见[大佬的文章](https://www.cnblogs.com/iMath/p/10461442.html)